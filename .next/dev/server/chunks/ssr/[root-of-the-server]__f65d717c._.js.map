{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/lib/api.ts"],"sourcesContent":["\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const API_URL = process.env.NEXT_PUBLIC_API_URL  || \"http://191.252.110.78/api\";\r\n\r\nfunction buildTargetUrl(req: Request, pathParts: string[]) {\r\n  const incoming = new URL(req.url);\r\n  const path = pathParts.join(\"/\");\r\n  // mant√©m querystring (?a=1&b=2)\r\n  return `${API_URL}/${path}${incoming.search}`;\r\n}\r\n\r\nasync function forward(req: Request, method: string, pathParts: string[]) {\r\n  const target = buildTargetUrl(req, pathParts);\r\n\r\n  // copia alguns headers √∫teis (token, etc.)\r\n  const headers = new Headers();\r\n  const auth = req.headers.get(\"authorization\");\r\n  if (auth) headers.set(\"authorization\", auth);\r\n\r\n  const contentType = req.headers.get(\"content-type\");\r\n  if (contentType) headers.set(\"content-type\", contentType);\r\n\r\n  // se voc√™ usa cookies/sess√£o, pode repassar cookie tamb√©m:\r\n  const cookie = req.headers.get(\"cookie\");\r\n  if (cookie) headers.set(\"cookie\", cookie);\r\n\r\n  // corpo s√≥ para m√©todos que aceitam body\r\n  const hasBody = ![\"GET\", \"HEAD\"].includes(method.toUpperCase());\r\n  const body = hasBody ? await req.arrayBuffer() : undefined;\r\n\r\n  const resp = await fetch(target, {\r\n    method,\r\n    headers,\r\n    body,\r\n    // evita cache\r\n    cache: \"no-store\",\r\n    // importante: server-to-server\r\n    redirect: \"manual\",\r\n  });\r\n\r\n  // devolve exatamente o que o backend respondeu\r\n  const respBody = await resp.arrayBuffer();\r\n  const outHeaders = new Headers(resp.headers);\r\n\r\n  // opcional: evitar problemas de CORS no browser (normalmente nem precisa)\r\n  outHeaders.set(\"access-control-allow-origin\", \"*\");\r\n\r\n  return new NextResponse(respBody, {\r\n    status: resp.status,\r\n    headers: outHeaders,\r\n  });\r\n}\r\n\r\nexport async function GET(req: Request, { params }: { params: { path: string[] } }) {\r\n  return forward(req, \"GET\", params.path);\r\n}\r\nexport async function POST(req: Request, { params }: { params: { path: string[] } }) {\r\n  return forward(req, \"POST\", params.path);\r\n}\r\nexport async function PUT(req: Request, { params }: { params: { path: string[] } }) {\r\n  return forward(req, \"PUT\", params.path);\r\n}\r\nexport async function PATCH(req: Request, { params }: { params: { path: string[] } }) {\r\n  return forward(req, \"PATCH\", params.path);\r\n}\r\nexport async function DELETE(req: Request, { params }: { params: { path: string[] } }) {\r\n  return forward(req, \"DELETE\", params.path);\r\n}\r\n\r\n// Preflight (se algum dia precisar)\r\nexport async function OPTIONS() {\r\n  return new NextResponse(null, {\r\n    status: 204,\r\n    headers: {\r\n      \"access-control-allow-origin\": \"*\",\r\n      \"access-control-allow-methods\": \"GET,POST,PUT,PATCH,DELETE,OPTIONS\",\r\n      \"access-control-allow-headers\": \"authorization,content-type\",\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AACA;;AAEO,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAK;AAE3D,SAAS,eAAe,GAAY,EAAE,SAAmB;IACvD,MAAM,WAAW,IAAI,IAAI,IAAI,GAAG;IAChC,MAAM,OAAO,UAAU,IAAI,CAAC;IAC5B,gCAAgC;IAChC,OAAO,GAAG,QAAQ,CAAC,EAAE,OAAO,SAAS,MAAM,EAAE;AAC/C;AAEA,eAAe,QAAQ,GAAY,EAAE,MAAc,EAAE,SAAmB;IACtE,MAAM,SAAS,eAAe,KAAK;IAEnC,2CAA2C;IAC3C,MAAM,UAAU,IAAI;IACpB,MAAM,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC;IAC7B,IAAI,MAAM,QAAQ,GAAG,CAAC,iBAAiB;IAEvC,MAAM,cAAc,IAAI,OAAO,CAAC,GAAG,CAAC;IACpC,IAAI,aAAa,QAAQ,GAAG,CAAC,gBAAgB;IAE7C,2DAA2D;IAC3D,MAAM,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC;IAC/B,IAAI,QAAQ,QAAQ,GAAG,CAAC,UAAU;IAElC,yCAAyC;IACzC,MAAM,UAAU,CAAC;QAAC;QAAO;KAAO,CAAC,QAAQ,CAAC,OAAO,WAAW;IAC5D,MAAM,OAAO,UAAU,MAAM,IAAI,WAAW,KAAK;IAEjD,MAAM,OAAO,MAAM,MAAM,QAAQ;QAC/B;QACA;QACA;QACA,cAAc;QACd,OAAO;QACP,+BAA+B;QAC/B,UAAU;IACZ;IAEA,+CAA+C;IAC/C,MAAM,WAAW,MAAM,KAAK,WAAW;IACvC,MAAM,aAAa,IAAI,QAAQ,KAAK,OAAO;IAE3C,0EAA0E;IAC1E,WAAW,GAAG,CAAC,+BAA+B;IAE9C,OAAO,IAAI,8IAAY,CAAC,UAAU;QAChC,QAAQ,KAAK,MAAM;QACnB,SAAS;IACX;AACF;AAEO,eAAe,IAAI,GAAY,EAAE,EAAE,MAAM,EAAkC;IAChF,OAAO,QAAQ,KAAK,OAAO,OAAO,IAAI;AACxC;AACO,eAAe,KAAK,GAAY,EAAE,EAAE,MAAM,EAAkC;IACjF,OAAO,QAAQ,KAAK,QAAQ,OAAO,IAAI;AACzC;AACO,eAAe,IAAI,GAAY,EAAE,EAAE,MAAM,EAAkC;IAChF,OAAO,QAAQ,KAAK,OAAO,OAAO,IAAI;AACxC;AACO,eAAe,MAAM,GAAY,EAAE,EAAE,MAAM,EAAkC;IAClF,OAAO,QAAQ,KAAK,SAAS,OAAO,IAAI;AAC1C;AACO,eAAe,OAAO,GAAY,EAAE,EAAE,MAAM,EAAkC;IACnF,OAAO,QAAQ,KAAK,UAAU,OAAO,IAAI;AAC3C;AAGO,eAAe;IACpB,OAAO,IAAI,8IAAY,CAAC,MAAM;QAC5B,QAAQ;QACR,SAAS;YACP,+BAA+B;YAC/B,gCAAgC;YAChC,gCAAgC;QAClC;IACF;AACF"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/lib/childrenApi.ts"],"sourcesContent":["import { API_URL } from './api'\r\n\r\nexport type Child = {\r\n  id: string\r\n  name: string\r\n  photo_url?: string | null\r\n  is_active: boolean\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nexport async function listChildren(search?: string): Promise<Child[]> {\r\n  const url = new URL(`${API_URL}/admin/children`)\r\n  if (search && search.trim()) url.searchParams.set('search', search.trim())\r\n\r\n  const res = await fetch(url.toString(), { cache: 'no-store' })\r\n  if (!res.ok) throw new Error('Falha ao carregar crian√ßas')\r\n  return res.json()\r\n}\r\n\r\nexport async function createChild(payload: { name: string; photo_url?: string }): Promise<Child> {\r\n  const res = await fetch(`${API_URL}/admin/children`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload),\r\n  })\r\n  if (!res.ok) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha ao cadastrar crian√ßa')\r\n  }\r\n  return res.json()\r\n}\r\n\r\nexport async function updateChild(\r\n  id: string,\r\n  payload: { name: string; photo_url?: string }\r\n): Promise<Child> {\r\n  const res = await fetch(`${API_URL}/admin/children/${id}`, {\r\n    method: 'PUT',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload),\r\n  })\r\n  if (!res.ok) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha ao editar crian√ßa')\r\n  }\r\n  return res.json()\r\n}\r\n\r\nexport async function deleteChild(id: string): Promise<void> {\r\n  const res = await fetch(`${API_URL}/admin/children/${id}`, { method: 'DELETE' })\r\n  if (!res.ok && res.status !== 204) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha ao excluir crian√ßa')\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAWO,eAAe,aAAa,MAAe;IAChD,MAAM,MAAM,IAAI,IAAI,GAAG,4HAAO,CAAC,eAAe,CAAC;IAC/C,IAAI,UAAU,OAAO,IAAI,IAAI,IAAI,YAAY,CAAC,GAAG,CAAC,UAAU,OAAO,IAAI;IAEvE,MAAM,MAAM,MAAM,MAAM,IAAI,QAAQ,IAAI;QAAE,OAAO;IAAW;IAC5D,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YAAY,OAA6C;IAC7E,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,eAAe,CAAC,EAAE;QACnD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YACpB,EAAU,EACV,OAA6C;IAE7C,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,gBAAgB,EAAE,IAAI,EAAE;QACzD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YAAY,EAAU;IAC1C,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,gBAAgB,EAAE,IAAI,EAAE;QAAE,QAAQ;IAAS;IAC9E,IAAI,CAAC,IAAI,EAAE,IAAI,IAAI,MAAM,KAAK,KAAK;QACjC,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;AACF"}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/lib/cardsApi.ts"],"sourcesContent":["import { API_URL } from './api'\r\n\r\nexport type Card = {\r\n  id: string\r\n  child_id: string\r\n  token: string\r\n  status: 'ACTIVE' | 'BLOCKED' | 'REPLACED'\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nexport async function getActiveCardByChild(childId: string): Promise<Card | null> {\r\n  const res = await fetch(`${API_URL}/admin/cards/by-child/${childId}`, { cache: 'no-store' })\r\n  if (!res.ok) throw new Error('Falha ao buscar cart√£o')\r\n  return res.json()\r\n}\r\n\r\nexport async function issueCard(childId: string): Promise<Card> {\r\n  const res = await fetch(`${API_URL}/admin/cards/issue`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ childId }),\r\n  })\r\n  if (!res.ok) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha ao emitir cart√£o')\r\n  }\r\n  return res.json()\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAWO,eAAe,qBAAqB,OAAe;IACxD,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,sBAAsB,EAAE,SAAS,EAAE;QAAE,OAAO;IAAW;IAC1F,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,UAAU,OAAe;IAC7C,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,kBAAkB,CAAC,EAAE;QACtD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;QAAQ;IACjC;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;IACA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/lib/childrenSummaryApi.ts"],"sourcesContent":["import { API_URL } from './api'\r\n\r\nexport type ChildSummary = {\r\n  child: { id: string; name: string; photo_url: string | null }\r\n  balance: number\r\n  entries: {\r\n    id: string\r\n    type: 'CREDIT' | 'DEBIT'\r\n    amount: number\r\n    reason: string\r\n    created_at: string\r\n  }[]\r\n}\r\n\r\nexport async function getChildSummary(childId: string): Promise<ChildSummary> {\r\n  const res = await fetch(`${API_URL}/admin/children/${childId}/summary`, { cache: 'no-store' })\r\n  if (!res.ok) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha ao carregar resumo')\r\n  }\r\n  return res.json()\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAcO,eAAe,gBAAgB,OAAe;IACnD,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,gBAAgB,EAAE,QAAQ,QAAQ,CAAC,EAAE;QAAE,OAAO;IAAW;IAC5F,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;IACA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/lib/uploadApi.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3333'\r\n\r\nexport async function uploadPhoto(file: File): Promise<string> {\r\n  const fd = new FormData()\r\n  fd.append('file', file)\r\n\r\n  const res = await fetch(`${API_URL}/admin/uploads/photo`, {\r\n    method: 'POST',\r\n    body: fd,\r\n  })\r\n\r\n  if (!res.ok) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha no upload')\r\n  }\r\n\r\n  const data = await res.json()\r\n  return data.url as string\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAE5C,eAAe,YAAY,IAAU;IAC1C,MAAM,KAAK,IAAI;IACf,GAAG,MAAM,CAAC,QAAQ;IAElB,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,oBAAoB,CAAC,EAAE;QACxD,QAAQ;QACR,MAAM;IACR;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,GAAG;AACjB"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/components/admin/TabsCriancas.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Stack,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  Avatar,\r\n  InputAdornment,\r\n  Alert,\r\n  CircularProgress,\r\n  IconButton,\r\n} from '@mui/material'\r\n\r\nimport AddIcon from '@mui/icons-material/Add'\r\nimport SearchIcon from '@mui/icons-material/Search'\r\nimport EditIcon from '@mui/icons-material/Edit'\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline'\r\nimport CreditCardIcon from '@mui/icons-material/CreditCard'\r\nimport VisibilityIcon from '@mui/icons-material/Visibility'\r\nimport Divider from '@mui/material/Divider'\r\n\r\nimport {\r\n  listChildren,\r\n  createChild,\r\n  updateChild,\r\n  deleteChild,\r\n  type Child,\r\n} from '@/app/lib/childrenApi'\r\nimport { getActiveCardByChild, issueCard } from '@/app/lib/cardsApi'\r\nimport { getChildSummary, type ChildSummary } from '@/app/lib/childrenSummaryApi'\r\nimport { uploadPhoto } from '@/app/lib/uploadApi'\r\n\r\nexport default function TabsCriancas() {\r\n  const [rows, setRows] = React.useState<Child[]>([])\r\n  const [search, setSearch] = React.useState('')\r\n  const [loading, setLoading] = React.useState(false)\r\n  const [saving, setSaving] = React.useState(false)\r\n  const [error, setError] = React.useState<string | null>(null)\r\n\r\n  // modal create / edit\r\n  const [open, setOpen] = React.useState(false)\r\n  const [editing, setEditing] = React.useState<Child | null>(null)\r\n\r\n  // confirm delete\r\n  const [confirmDelete, setConfirmDelete] = React.useState<Child | null>(null)\r\n\r\n  // form\r\n  const [name, setName] = React.useState('')\r\n  const [photoUrl, setPhotoUrl] = React.useState('')\r\n\r\n  // details dialog\r\n  const [openDetails, setOpenDetails] = React.useState(false)\r\n  const [detailsLoading, setDetailsLoading] = React.useState(false)\r\n  const [summary, setSummary] = React.useState<ChildSummary | null>(null)\r\n\r\n  async function load(currentSearch?: string) {\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const data = await listChildren(currentSearch)\r\n      setRows(data)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao carregar crian√ßas')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    load('')\r\n  }, [])\r\n\r\n  function resetForm() {\r\n    setName('')\r\n    setPhotoUrl('')\r\n  }\r\n\r\n  function openCreate() {\r\n    resetForm()\r\n    setEditing(null)\r\n    setOpen(true)\r\n  }\r\n\r\n  function openEdit(child: Child) {\r\n    setEditing(child)\r\n    setName(child.name)\r\n    setPhotoUrl(child.photo_url || '')\r\n    setOpen(true)\r\n  }\r\n\r\n  async function handleSave() {\r\n    const trimmed = name.trim()\r\n    if (!trimmed) return\r\n\r\n    setSaving(true)\r\n    setError(null)\r\n\r\n    try {\r\n      if (editing) {\r\n        await updateChild(editing.id, {\r\n          name: trimmed,\r\n          photo_url: photoUrl.trim() || '',\r\n        })\r\n      } else {\r\n        await createChild({\r\n          name: trimmed,\r\n          photo_url: photoUrl.trim() || '',\r\n        })\r\n      }\r\n\r\n      setOpen(false)\r\n      setEditing(null)\r\n      resetForm()\r\n      await load(search)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao salvar')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  async function handleDelete() {\r\n    if (!confirmDelete) return\r\n\r\n    setSaving(true)\r\n    setError(null)\r\n\r\n    try {\r\n      await deleteChild(confirmDelete.id)\r\n      setConfirmDelete(null)\r\n      await load(search)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao excluir')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  async function handleViewCard(childId: string) {\r\n    setSaving(true)\r\n    setError(null)\r\n    try {\r\n      let card = await getActiveCardByChild(childId)\r\n      if (!card) {\r\n        card = await issueCard(childId)\r\n      }\r\n      window.open(`/c/${card.token}`, '_blank')\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao abrir cart√£o')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  async function openDetailsDialog(child: Child) {\r\n    setError(null)\r\n    setDetailsLoading(true)\r\n    setOpenDetails(true)\r\n    setSummary(null)\r\n\r\n    try {\r\n      const data = await getChildSummary(child.id)\r\n      setSummary(data)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao carregar detalhes')\r\n    } finally {\r\n      setDetailsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 1000, mx: 'auto' }}>\r\n      <Paper sx={{ p: 2 }}>\r\n        {/* Header */}\r\n        <Stack\r\n          direction={{ xs: 'column', sm: 'row' }}\r\n          spacing={2}\r\n          alignItems={{ xs: 'stretch', sm: 'center' }}\r\n          justifyContent=\"space-between\"\r\n        >\r\n          <Box>\r\n            <Typography variant=\"h6\">Crian√ßas</Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Cadastre, edite e gerencie as crian√ßas do Dracma Bank.\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Button variant=\"contained\" startIcon={<AddIcon />} onClick={openCreate}>\r\n            Cadastrar crian√ßa\r\n          </Button>\r\n        </Stack>\r\n\r\n        {error && (\r\n          <Box sx={{ mt: 2 }}>\r\n            <Alert severity=\"error\">{error}</Alert>\r\n          </Box>\r\n        )}\r\n\r\n        {/* Search */}\r\n        <Box sx={{ mt: 2 }}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Buscar por nome\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === 'Enter') load(search)\r\n            }}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon fontSize=\"small\" />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <Button onClick={() => load(search)} disabled={loading}>\r\n                  Buscar\r\n                </Button>\r\n              ),\r\n            }}\r\n          />\r\n        </Box>\r\n\r\n        {/* Table */}\r\n        <Box sx={{ mt: 2, overflowX: 'auto' }}>\r\n          {loading ? (\r\n            <Box sx={{ py: 6, display: 'flex', justifyContent: 'center' }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : (\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Foto</TableCell>\r\n                  <TableCell>Nome</TableCell>\r\n                  <TableCell align=\"right\">A√ß√µes</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                {rows.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={3}>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Nenhuma crian√ßa cadastrada.\r\n                      </Typography>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  rows.map((c) => (\r\n                    <TableRow key={c.id} hover>\r\n                      <TableCell>\r\n                        <Avatar src={c.photo_url || undefined}>\r\n                          {c.name?.[0]?.toUpperCase()}\r\n                        </Avatar>\r\n                      </TableCell>\r\n\r\n                      <TableCell sx={{ fontWeight: 600 }}>{c.name}</TableCell>\r\n\r\n                      <TableCell align=\"right\">\r\n                        <IconButton\r\n                          aria-label=\"Ver cart√£o\"\r\n                          onClick={() => handleViewCard(c.id)}\r\n                          title=\"Ver cart√£o\"\r\n                          disabled={saving}\r\n                        >\r\n                          <CreditCardIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          aria-label=\"Detalhes\"\r\n                          title=\"Detalhes / Extrato\"\r\n                          onClick={() => openDetailsDialog(c)}\r\n                          disabled={saving}\r\n                        >\r\n                          <VisibilityIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton onClick={() => openEdit(c)} title=\"Editar\" disabled={saving}>\r\n                          <EditIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          color=\"error\"\r\n                          onClick={() => setConfirmDelete(c)}\r\n                          title=\"Excluir\"\r\n                          disabled={saving}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          )}\r\n        </Box>\r\n      </Paper>\r\n\r\n      {/* Modal Create / Edit */}\r\n      <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>{editing ? 'Editar crian√ßa' : 'Cadastrar crian√ßa'}</DialogTitle>\r\n\r\n        <DialogContent>\r\n          <Stack spacing={2} sx={{ mt: 1 }}>\r\n            <TextField\r\n              autoFocus\r\n              label=\"Nome da crian√ßa\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              fullWidth\r\n            />\r\n\r\n            <TextField\r\n              label=\"URL da foto (opcional)\"\r\n              value={photoUrl}\r\n              onChange={(e) => setPhotoUrl(e.target.value)}\r\n              placeholder=\"https://...\"\r\n              fullWidth\r\n            />\r\n\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={1} alignItems=\"center\">\r\n              <Button variant=\"outlined\" component=\"label\" disabled={saving}>\r\n                Enviar foto\r\n                <input\r\n                  hidden\r\n                  type=\"file\"\r\n                  accept=\"image/png,image/jpeg,image/webp\"\r\n                  onChange={async (e) => {\r\n                    const f = e.target.files?.[0]\r\n                    if (!f) return\r\n\r\n                    try {\r\n                      setSaving(true)\r\n                      setError(null)\r\n                      const url = await uploadPhoto(f)\r\n                      setPhotoUrl(url)\r\n                    } catch (err: any) {\r\n                      setError(err?.message || 'Erro no upload')\r\n                    } finally {\r\n                      setSaving(false)\r\n                      // limpa input pra permitir reenviar o mesmo arquivo\r\n                      e.target.value = ''\r\n                    }\r\n                  }}\r\n                />\r\n              </Button>\r\n\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                JPG/PNG/WEBP at√© 2MB\r\n              </Typography>\r\n            </Stack>\r\n          </Stack>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)} disabled={saving}>\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button variant=\"contained\" onClick={handleSave} disabled={!name.trim() || saving}>\r\n            {saving ? 'Salvando...' : editing ? 'Salvar altera√ß√µes' : 'Salvar'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Confirm Delete */}\r\n      <Dialog open={!!confirmDelete} onClose={() => setConfirmDelete(null)} fullWidth maxWidth=\"xs\">\r\n        <DialogTitle>Excluir crian√ßa</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"body2\">\r\n            Tem certeza que deseja excluir <b>{confirmDelete?.name}</b>?\r\n            <br />\r\n            A crian√ßa ser√° apenas desativada.\r\n          </Typography>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setConfirmDelete(null)} disabled={saving}>\r\n            Cancelar\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"error\" onClick={handleDelete} disabled={saving}>\r\n            Excluir\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Details / Extrato */}\r\n      <Dialog open={openDetails} onClose={() => setOpenDetails(false)} fullWidth maxWidth=\"md\">\r\n        <DialogTitle>Detalhes / Extrato</DialogTitle>\r\n\r\n        <DialogContent>\r\n          {detailsLoading ? (\r\n            <Box sx={{ py: 6, display: 'flex', justifyContent: 'center' }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : !summary ? (\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Nenhum dado para mostrar.\r\n            </Typography>\r\n          ) : (\r\n            <Box>\r\n              <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n                <Avatar src={summary.child.photo_url || undefined}>\r\n                  {summary.child.name?.[0]?.toUpperCase()}\r\n                </Avatar>\r\n\r\n                <Box>\r\n                  <Typography fontWeight={800}>{summary.child.name}</Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Saldo atual: <b>{summary.balance}</b> Dracmas\r\n                  </Typography>\r\n                </Box>\r\n              </Stack>\r\n\r\n              <Divider sx={{ my: 2 }} />\r\n\r\n              <Typography fontWeight={800} sx={{ mb: 1 }}>\r\n                Movimenta√ß√µes (√∫ltimas 30)\r\n              </Typography>\r\n\r\n              {summary.entries.length === 0 ? (\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Nenhuma movimenta√ß√£o ainda.\r\n                </Typography>\r\n              ) : (\r\n                <Table size=\"small\">\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Data</TableCell>\r\n                      <TableCell>Motivo</TableCell>\r\n                      <TableCell>Tipo</TableCell>\r\n                      <TableCell align=\"right\">Valor</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {summary.entries.map((e) => (\r\n                      <TableRow key={e.id} hover>\r\n                        <TableCell>{new Date(e.created_at).toLocaleString('pt-BR')}</TableCell>\r\n                        <TableCell>{e.reason}</TableCell>\r\n                        <TableCell>{e.type === 'CREDIT' ? 'Entrada' : 'Sa√≠da'}</TableCell>\r\n                        <TableCell align=\"right\">\r\n                          {e.type === 'CREDIT' ? '+' : '-'}\r\n                          {e.amount}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenDetails(false)}>Fechar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1243, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/lib/ledgerApi.ts"],"sourcesContent":["import { API_URL } from './api'\r\n\r\nexport type LedgerEntry = {\r\n  id: string\r\n  child_id: string\r\n  type: 'CREDIT' | 'DEBIT'\r\n  amount: number\r\n  reason: string\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nexport async function createLedgerEntry(payload: {\r\n  childId: string\r\n  type: 'CREDIT' | 'DEBIT'\r\n  amount: number\r\n  reason: string\r\n}): Promise<LedgerEntry> {\r\n  const res = await fetch(`${API_URL}/admin/ledger`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(payload),\r\n  })\r\n\r\n  if (!res.ok) {\r\n    const msg = await res.text()\r\n    throw new Error(msg || 'Falha ao lan√ßar Dracmas')\r\n  }\r\n\r\n  return res.json()\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAYO,eAAe,kBAAkB,OAKvC;IACC,MAAM,MAAM,MAAM,MAAM,GAAG,4HAAO,CAAC,aAAa,CAAC,EAAE;QACjD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI;QAC1B,MAAM,IAAI,MAAM,OAAO;IACzB;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 1267, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/components/admin/TabsLancamentos.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n  Stack,\r\n  TextField,\r\n  MenuItem,\r\n  Button,\r\n  Alert,\r\n} from '@mui/material'\r\n\r\nimport { listChildren, type Child } from '@/app/lib/childrenApi'\r\nimport { createLedgerEntry } from '@/app/lib/ledgerApi'\r\n\r\nexport default function TabsLancamentos() {\r\n  const [children, setChildren] = React.useState<Child[]>([])\r\n  const [childId, setChildId] = React.useState('')\r\n  const [type, setType] = React.useState<'CREDIT' | 'DEBIT'>('CREDIT')\r\n  const [amount, setAmount] = React.useState<number>(5)\r\n  const [reason, setReason] = React.useState('')\r\n\r\n  const [saving, setSaving] = React.useState(false)\r\n  const [error, setError] = React.useState<string | null>(null)\r\n  const [success, setSuccess] = React.useState<string | null>(null)\r\n\r\n  React.useEffect(() => {\r\n    ;(async () => {\r\n      try {\r\n        const list = await listChildren('')\r\n        setChildren(list)\r\n        if (list[0]?.id) setChildId(list[0].id)\r\n      } catch (e: any) {\r\n        setError(e?.message || 'Erro ao carregar crian√ßas')\r\n      }\r\n    })()\r\n  }, [])\r\n\r\n  async function handleSubmit() {\r\n    setError(null)\r\n    setSuccess(null)\r\n\r\n    if (!childId) return setError('Selecione uma crian√ßa')\r\n    if (!reason.trim()) return setError('Informe o motivo')\r\n    if (!Number.isInteger(amount) || amount <= 0) return setError('Valor inv√°lido')\r\n\r\n    setSaving(true)\r\n    try {\r\n      await createLedgerEntry({\r\n        childId,\r\n        type,\r\n        amount,\r\n        reason: reason.trim(),\r\n      })\r\n      setSuccess('Lan√ßamento realizado com sucesso!')\r\n      setReason('')\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao lan√ßar')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 800, mx: 'auto' }}>\r\n      <Paper sx={{ p: 2 }}>\r\n        <Typography variant=\"h6\">Lan√ßamentos</Typography>\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          Adicione ou retire Dracmas com motivo (audit√°vel).\r\n        </Typography>\r\n\r\n        <Stack spacing={2} sx={{ mt: 2 }}>\r\n          {error && <Alert severity=\"error\">{error}</Alert>}\r\n          {success && <Alert severity=\"success\">{success}</Alert>}\r\n\r\n          <TextField\r\n            select\r\n            label=\"Crian√ßa\"\r\n            value={childId}\r\n            onChange={(e) => setChildId(e.target.value)}\r\n            fullWidth\r\n          >\r\n            {children.map((c) => (\r\n              <MenuItem key={c.id} value={c.id}>\r\n                {c.name}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n\r\n          <TextField\r\n            select\r\n            label=\"Tipo\"\r\n            value={type}\r\n            onChange={(e) => setType(e.target.value as 'CREDIT' | 'DEBIT')}\r\n            fullWidth\r\n          >\r\n            <MenuItem value=\"CREDIT\">Entrada (+)</MenuItem>\r\n            <MenuItem value=\"DEBIT\">Sa√≠da (-)</MenuItem>\r\n          </TextField>\r\n\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Quantidade de Dracmas\"\r\n            value={amount}\r\n            onChange={(e) => setAmount(Number(e.target.value))}\r\n            fullWidth\r\n            inputProps={{ min: 1, step: 1 }}\r\n          />\r\n\r\n          <TextField\r\n            label=\"Motivo\"\r\n            value={reason}\r\n            onChange={(e) => setReason(e.target.value)}\r\n            placeholder=\"Ex: Presen√ßa no culto\"\r\n            fullWidth\r\n          />\r\n\r\n          <Button variant=\"contained\" onClick={handleSubmit} disabled={saving}>\r\n            {saving ? 'Salvando...' : 'Lan√ßar'}\r\n          </Button>\r\n        </Stack>\r\n      </Paper>\r\n    </Box>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1505, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/components/admin/TabsCartoes.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n  Stack,\r\n  TextField,\r\n  MenuItem,\r\n  Button,\r\n  Alert,\r\n  Divider,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  CircularProgress,\r\n} from '@mui/material'\r\n\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy'\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew'\r\nimport RefreshIcon from '@mui/icons-material/Refresh'\r\nimport CreditCardIcon from '@mui/icons-material/CreditCard'\r\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf'\r\n\r\nimport QRCode from 'react-qr-code'\r\n\r\nimport jsPDF from 'jspdf'\r\nimport html2canvas from 'html2canvas'\r\n\r\nimport { listChildren, type Child } from '@/app/lib/childrenApi'\r\nimport { getActiveCardByChild, issueCard, type Card } from '@/app/lib/cardsApi'\r\n\r\nconst APP_URL = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'\r\n\r\n// ‚úÖ 2 colunas x 3 linhas = 6 por p√°gina\r\nconst PER_PAGE = 8\r\n\r\nfunction shortToken(t: string) {\r\n  if (!t) return ''\r\n  return `${t.slice(0, 8)}‚Ä¶${t.slice(-6)}`\r\n}\r\n\r\ntype BatchItem = {\r\n  child: Child\r\n  card: Card\r\n  url: string\r\n}\r\n\r\nfunction chunk<T>(arr: T[], size: number) {\r\n  const out: T[][] = []\r\n  for (let i = 0; i < arr.length; i += size) out.push(arr.slice(i, i + size))\r\n  return out\r\n}\r\n\r\nfunction CreditStyleCard({\r\n  childName,\r\n  token,\r\n  walletUrl,\r\n}: {\r\n  childName: string\r\n  token: string\r\n  walletUrl: string\r\n}) {\r\n  // ‚úÖ Mant√©m a cor ‚Äúazul‚Äù que voc√™ j√° est√° usando\r\n  return (\r\n    <div\r\n      className=\"db-card\"\r\n      style={{\r\n        boxShadow: '0 12px 30px rgba(0,0,0,0.18)',\r\n        background: 'linear-gradient(135deg, #2563eb 0%, #3b82f6 45%, #60a5fa 100%)',\r\n      }}\r\n    >\r\n      {/* brilho/ondas */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          inset: 0,\r\n          background:\r\n            'radial-gradient(140px 90px at 18% 25%, rgba(255,255,255,0.22), transparent 60%),' +\r\n            'radial-gradient(180px 130px at 85% 15%, rgba(255,255,255,0.18), transparent 60%),' +\r\n            'radial-gradient(220px 140px at 70% 95%, rgba(255,255,255,0.14), transparent 60%)',\r\n          pointerEvents: 'none',\r\n        }}\r\n      />\r\n\r\n      {/* faixa diagonal */}\r\n      {/* <div\r\n        style={{\r\n          position: 'absolute',\r\n          width: '140%',\r\n          height: '22%',\r\n          left: '-20%',\r\n          top: '55%',\r\n          transform: 'rotate(-10deg)',\r\n          background: 'linear-gradient(90deg, rgba(250,204,21,0.28), rgba(250,204,21,0.10))',\r\n          pointerEvents: 'none',\r\n        }}\r\n      /> */}\r\n\r\n      <div className=\"db-card-inner\" style={{ color: 'white', position: 'relative' }}>\r\n        {/* topo */}\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <div>\r\n            <div style={{ fontSize: '3.4mm', fontWeight: 900 }}>\r\n              Dracma Bank üí∞\r\n            </div>\r\n          </div>\r\n\r\n          {/* logo */}\r\n          <div\r\n            style={{\r\n              width: '9mm',\r\n              height: '9mm',\r\n              borderRadius: '3mm',\r\n              background: 'rgba(250,204,21,0.92)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              fontWeight: 900,\r\n              fontSize: '3.2mm',\r\n              color: '#1e3a8a',\r\n              boxShadow: '0 6px 14px rgba(0,0,0,0.18)',\r\n            }}\r\n            aria-label=\"Logo Dracma Bank\"\r\n          >\r\n            DB\r\n          </div>\r\n        </div>\r\n\r\n        {/* chip */}\r\n        <div\r\n          style={{\r\n            marginTop: '4.2mm',\r\n            width: '14mm',\r\n            height: '10mm',\r\n            borderRadius: '3mm',\r\n            background: 'rgba(255,255,255,0.22)',\r\n            border: '0.2mm solid rgba(255,255,255,0.25)',\r\n          }}\r\n        />\r\n\r\n        {/* nome */}\r\n        <div style={{ marginTop: '4.2mm' }}>\r\n          <div className=\"db-muted\" style={{ fontSize: '2.6mm' }}>\r\n            Nome\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              fontSize: '4.3mm',\r\n              fontWeight: 900,\r\n              lineHeight: 1.1,\r\n              marginTop: '0.8mm',\r\n              maxWidth: '70mm',\r\n              whiteSpace: 'nowrap',\r\n              overflow: 'hidden',\r\n              textOverflow: 'ellipsis',\r\n            }}\r\n          >\r\n            {childName}\r\n          </div>\r\n        </div>\r\n\r\n        {/* rodap√© */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            left: '4.5mm',\r\n            right: '4.5mm',\r\n            bottom: '4.0mm',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'flex-end',\r\n            gap: '4mm',\r\n          }}\r\n        >\r\n          <div style={{ minWidth: 0 }}>\r\n            \r\n\r\n            <div\r\n              className=\"db-mono\"\r\n              style={{\r\n                fontSize: '2.8mm',\r\n                opacity: 0.95,\r\n                marginTop: '0.6mm',\r\n                whiteSpace: 'nowrap',\r\n                overflow: 'hidden',\r\n                textOverflow: 'ellipsis',\r\n                maxWidth: '48mm',\r\n              }}\r\n            >\r\n              {token ? shortToken(token) : ''}\r\n            </div>\r\n\r\n            <div className=\"db-muted\" style={{ fontSize: '2.2mm', marginTop: '1.2mm' }}>\r\n              Aponte a c√¢mera para ver o saldo ‚≠ê\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            style={{\r\n              background: 'white',\r\n              borderRadius: '4mm',\r\n              padding: '1.8mm',\r\n              width: '16.5mm',\r\n              height: '16.5mm',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              boxShadow: '0 6px 14px rgba(0,0,0,0.16)',\r\n              border: '0.3mm solid rgba(250,204,21,0.9)',\r\n            }}\r\n          >\r\n            {walletUrl ? (\r\n              <QRCode value={walletUrl} size={56} />\r\n            ) : (\r\n              <span style={{ fontSize: '2.4mm', color: '#334155' }}>Sem QR</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function TabsCartoes() {\r\n  const [children, setChildren] = React.useState<Child[]>([])\r\n  const [childId, setChildId] = React.useState('')\r\n\r\n  const [activeCard, setActiveCard] = React.useState<Card | null>(null)\r\n\r\n  const [loading, setLoading] = React.useState(false)\r\n  const [working, setWorking] = React.useState(false)\r\n  const [error, setError] = React.useState<string | null>(null)\r\n  const [success, setSuccess] = React.useState<string | null>(null)\r\n\r\n  // PDF render state\r\n  const pdfRootRef = React.useRef<HTMLDivElement | null>(null)\r\n  const [pdfPages, setPdfPages] = React.useState<BatchItem[][]>([])\r\n  const [pdfGenerating, setPdfGenerating] = React.useState(false)\r\n\r\n  const selectedChild = React.useMemo(\r\n    () => children.find((c) => c.id === childId) || null,\r\n    [children, childId]\r\n  )\r\n\r\n  const walletUrl = React.useMemo(() => {\r\n    if (!activeCard?.token) return ''\r\n    return `${APP_URL}/c/${activeCard.token}`\r\n  }, [activeCard?.token])\r\n\r\n  async function bootstrap() {\r\n    setError(null)\r\n    setSuccess(null)\r\n    setLoading(true)\r\n    try {\r\n      const list = await listChildren('')\r\n      setChildren(list)\r\n      if (list[0]?.id) setChildId(list[0].id)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao carregar crian√ßas')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  async function loadCard(forChildId?: string) {\r\n    const id = forChildId || childId\r\n    if (!id) return\r\n\r\n    setError(null)\r\n    setSuccess(null)\r\n    setLoading(true)\r\n    try {\r\n      const card = await getActiveCardByChild(id)\r\n      setActiveCard(card)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao carregar cart√£o')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    bootstrap()\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (childId) loadCard(childId)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [childId])\r\n\r\n  async function handleGenerateCard() {\r\n    if (!childId) return\r\n    setWorking(true)\r\n    setError(null)\r\n    setSuccess(null)\r\n    try {\r\n      const created = await issueCard(childId)\r\n      setSuccess(`Cart√£o gerado: ${shortToken(created.token)}`)\r\n      await loadCard(childId)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao gerar cart√£o')\r\n    } finally {\r\n      setWorking(false)\r\n    }\r\n  }\r\n\r\n  async function handleCopyLink() {\r\n    if (!walletUrl) return\r\n    try {\r\n      await navigator.clipboard.writeText(walletUrl)\r\n      setSuccess('Link copiado!')\r\n    } catch {\r\n      setError('N√£o consegui copiar. Copie manualmente.')\r\n    }\r\n  }\r\n\r\n  function handleOpenWallet() {\r\n    if (!walletUrl) return\r\n    window.open(walletUrl, '_blank')\r\n  }\r\n\r\n  // ‚úÖ NOVO: BAIXAR PDF EM LOTE (2 colunas, 6 por p√°gina)\r\n  async function handleDownloadPdfBatch() {\r\n    if (children.length === 0) return\r\n\r\n    setPdfGenerating(true)\r\n    setWorking(true)\r\n    setError(null)\r\n    setSuccess(null)\r\n\r\n    try {\r\n      // 1) montar itens (somente quem tem cart√£o ativo)\r\n      const results = await Promise.all(\r\n        children.map(async (ch) => {\r\n          try {\r\n            const card = await getActiveCardByChild(ch.id)\r\n            if (!card?.token) return null\r\n            const url = `${APP_URL}/c/${card.token}`\r\n            if (!ch?.name || !card?.token || !url) return null\r\n            return { child: ch, card, url } as BatchItem\r\n          } catch {\r\n            return null\r\n          }\r\n        })\r\n      )\r\n\r\n      const items = results.filter(Boolean) as BatchItem[]\r\n      if (items.length === 0) {\r\n        setError('Nenhum cart√£o encontrado para gerar PDF. Gere os cart√µes antes.')\r\n        return\r\n      }\r\n\r\n      const pages = chunk(items, PER_PAGE)\r\n\r\n      // 2) renderizar as p√°ginas no DOM ‚Äúoffscreen‚Äù\r\n      setPdfPages(pages)\r\n\r\n      // 3) esperar o React realmente desenhar tudo\r\n      await new Promise<void>((resolve) => {\r\n        requestAnimationFrame(() => requestAnimationFrame(() => resolve()))\r\n      })\r\n\r\n      const root = pdfRootRef.current\r\n      if (!root) {\r\n        setError('Falha ao montar √°rea de PDF.')\r\n        return\r\n      }\r\n\r\n      const pageEls = Array.from(root.querySelectorAll<HTMLElement>('[data-pdf-page=\"1\"]'))\r\n      if (pageEls.length === 0) {\r\n        setError('N√£o encontrei p√°ginas para capturar no PDF.')\r\n        return\r\n      }\r\n\r\n      // 4) gerar o PDF\r\n      const pdf = new jsPDF({ unit: 'mm', format: 'a4', orientation: 'portrait' })\r\n      const margin = 10\r\n      const pageW = 210\r\n      const pageH = 297\r\n      const drawW = pageW - margin * 2\r\n      const drawH = pageH - margin * 2\r\n\r\n      for (let i = 0; i < pageEls.length; i++) {\r\n        const el = pageEls[i]\r\n\r\n        // html2canvas com escala boa pra QRCode ficar leg√≠vel\r\n        const canvas = await html2canvas(el, {\r\n          scale: 2,\r\n          backgroundColor: '#ffffff',\r\n          useCORS: true,\r\n        })\r\n\r\n        const imgData = canvas.toDataURL('image/png')\r\n\r\n        if (i > 0) pdf.addPage()\r\n        pdf.addImage(imgData, 'PNG', margin, margin, drawW, drawH)\r\n      }\r\n\r\n      pdf.save(`dracma-cartoes-${items.length}.pdf`)\r\n      setSuccess(`PDF gerado com ${items.length} cart√£o(√µes).`)\r\n    } catch (e: any) {\r\n      setError(e?.message || 'Erro ao gerar PDF')\r\n    } finally {\r\n      setWorking(false)\r\n      // mant√©m offscreen montado s√≥ enquanto gera\r\n      setPdfGenerating(false)\r\n      setPdfPages([])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 1000, mx: 'auto' }}>\r\n      <style>{`\r\n        /* cart√£o tamanho real */\r\n        .db-card {\r\n          width: 85.6mm;\r\n          height: 53.98mm;\r\n          border-radius: 6mm;\r\n          overflow: hidden;\r\n          position: relative;\r\n          -webkit-print-color-adjust: exact;\r\n          print-color-adjust: exact;\r\n        }\r\n\r\n        .db-card-inner {\r\n          width: 100%;\r\n          height: 100%;\r\n          padding: 4.5mm;\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .db-muted { opacity: 0.85; }\r\n        .db-mono {\r\n          font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\r\n        }\r\n\r\n        /* ‚úÖ √°rea offscreen do PDF */\r\n        .pdf-offscreen {\r\n          position: fixed;\r\n          left: -99999px;\r\n          top: 0;\r\n          width: 210mm;\r\n          background: white;\r\n        }\r\n\r\n        /* ‚úÖ p√°gina A4 ‚Äúreal‚Äù dentro do html2canvas */\r\n        .pdf-page {\r\n          width: 210mm;\r\n          height: 297mm;\r\n          background: #fff;\r\n          box-sizing: border-box;\r\n          padding: 10mm;\r\n        }\r\n\r\n        /* ‚úÖ grid 2 colunas, 6 por p√°gina */\r\n        .pdf-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(2, 1fr);\r\n          gap: 6mm;\r\n          align-items: start;\r\n          justify-items: center;\r\n        }\r\n      `}</style>\r\n\r\n      <Paper sx={{ p: 2 }}>\r\n        <Stack direction={{ xs: 'column', sm: 'row' }} justifyContent=\"space-between\" spacing={2}>\r\n          <Box>\r\n            <Typography variant=\"h6\">Cart√µes</Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Gere o cart√£o (token) e baixe um PDF em lote com 6 cart√µes por p√°gina.\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Button startIcon={<RefreshIcon />} onClick={() => loadCard(childId)} disabled={loading || !childId}>\r\n            Atualizar\r\n          </Button>\r\n        </Stack>\r\n\r\n        {error && (\r\n          <Box sx={{ mt: 2 }}>\r\n            <Alert severity=\"error\">{error}</Alert>\r\n          </Box>\r\n        )}\r\n        {success && (\r\n          <Box sx={{ mt: 2 }}>\r\n            <Alert severity=\"success\">{success}</Alert>\r\n          </Box>\r\n        )}\r\n\r\n        <Divider sx={{ my: 2 }} />\r\n\r\n        <Stack spacing={2}>\r\n          <TextField\r\n            select\r\n            label=\"Selecione a crian√ßa\"\r\n            value={childId}\r\n            onChange={(e) => setChildId(e.target.value)}\r\n            fullWidth\r\n            disabled={loading}\r\n          >\r\n            {children.map((c) => (\r\n              <MenuItem key={c.id} value={c.id}>\r\n                {c.name}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n\r\n          <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n            <Stack\r\n              direction={{ xs: 'column', sm: 'row' }}\r\n              spacing={2}\r\n              alignItems={{ xs: 'stretch', sm: 'center' }}\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <Box>\r\n                <Typography fontWeight={800}>\r\n                  {selectedChild ? selectedChild.name : '‚Äî'}\r\n                </Typography>\r\n\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 0.5 }}>\r\n                  {activeCard ? `Token: ${shortToken(activeCard.token)}` : 'Sem cart√£o ainda'}\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Stack direction=\"row\" spacing={1} alignItems=\"center\" justifyContent=\"flex-end\">\r\n                {loading ? (\r\n                  <CircularProgress size={22} />\r\n                ) : activeCard ? (\r\n                  <Chip size=\"small\" label=\"CART√ÉO OK\" />\r\n                ) : (\r\n                  <Chip size=\"small\" label=\"SEM CART√ÉO\" />\r\n                )}\r\n\r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<CreditCardIcon />}\r\n                  onClick={handleGenerateCard}\r\n                  disabled={working || loading || !childId || !!activeCard}\r\n                >\r\n                  Gerar cart√£o\r\n                </Button>\r\n              </Stack>\r\n            </Stack>\r\n          </Paper>\r\n\r\n          <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n            <Typography fontWeight={800} sx={{ mb: 1 }}>\r\n              Carteira online\r\n            </Typography>\r\n\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={1} alignItems=\"stretch\">\r\n              <TextField\r\n                label=\"Link\"\r\n                value={walletUrl || ''}\r\n                fullWidth\r\n                InputProps={{ readOnly: true }}\r\n                placeholder=\"Gere um cart√£o para aparecer o link\"\r\n              />\r\n\r\n              <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\">\r\n                <Tooltip title=\"Copiar link\">\r\n                  <span>\r\n                    <IconButton onClick={handleCopyLink} disabled={!walletUrl}>\r\n                      <ContentCopyIcon />\r\n                    </IconButton>\r\n                  </span>\r\n                </Tooltip>\r\n\r\n                <Tooltip title=\"Abrir carteira\">\r\n                  <span>\r\n                    <IconButton onClick={handleOpenWallet} disabled={!walletUrl}>\r\n                      <OpenInNewIcon />\r\n                    </IconButton>\r\n                  </span>\r\n                </Tooltip>\r\n              </Stack>\r\n            </Stack>\r\n          </Paper>\r\n\r\n          <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n            <Stack\r\n              direction={{ xs: 'column', sm: 'row' }}\r\n              spacing={2}\r\n              alignItems={{ xs: 'stretch', sm: 'center' }}\r\n              justifyContent=\"space-between\"\r\n            >\r\n              <Box>\r\n                <Typography fontWeight={800}>Cart√£o f√≠sico</Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  PDF em lote: 2 colunas √ó 3 linhas (6 por p√°gina).\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  startIcon={<PictureAsPdfIcon />}\r\n                  onClick={handleDownloadPdfBatch}\r\n                  disabled={working || loading || children.length === 0}\r\n                >\r\n                  Baixar PDF (lote)\r\n                </Button>\r\n              </Stack>\r\n            </Stack>\r\n\r\n            <Divider sx={{ my: 2 }} />\r\n\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\r\n              <CreditStyleCard\r\n                childName={selectedChild?.name || 'Selecione uma crian√ßa'}\r\n                token={activeCard?.token || ''}\r\n                walletUrl={walletUrl || ''}\r\n              />\r\n            </Box>\r\n          </Paper>\r\n        </Stack>\r\n      </Paper>\r\n\r\n      {/* ‚úÖ OFFSCREEN: p√°ginas do PDF (renderiza s√≥ durante a gera√ß√£o) */}\r\n      {pdfGenerating && (\r\n        <div className=\"pdf-offscreen\" ref={pdfRootRef}>\r\n          {pdfPages.map((page, i) => (\r\n            <div key={`pdf-page-${i}`} className=\"pdf-page\" data-pdf-page=\"1\">\r\n              <div className=\"pdf-grid\">\r\n                {page.map((it) => (\r\n                  <div key={it.child.id}>\r\n                    <CreditStyleCard childName={it.child.name} token={it.card.token} walletUrl={it.url} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2540, "column": 0}, "map": {"version":3,"sources":["file:///D:/git/projetos/dracma-bank-web/app/components/admin/AdminLayout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  Box,\r\n  Tabs,\r\n  Tab,\r\n  AppBar,\r\n  Toolbar,\r\n  Typography\r\n} from '@mui/material'\r\n\r\nimport TabsCriancas from './TabsCriancas';\r\nimport TabsLancamentos from './TabsLancamentos';\r\nimport TabsCartoes from './TabsCartoes';\r\n\r\nexport default function AdminLayout() {\r\n  const [tab, setTab] = React.useState(0)\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', bgcolor: '#f5f5f5' }}>\r\n      \r\n      {/* Topbar */}\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\">\r\n            Dracma Bank ‚Ä¢ Admin\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* Tabs */}\r\n      <Tabs\r\n        value={tab}\r\n        onChange={(_, newValue) => setTab(newValue)}\r\n        centered\r\n        sx={{ bgcolor: '#fff' }}\r\n      >\r\n        <Tab label=\"Crian√ßas\" />\r\n        <Tab label=\"Lan√ßamentos\" />\r\n        <Tab label=\"Cart√µes\" />\r\n      </Tabs>\r\n\r\n      {/* Conte√∫do */}\r\n      <Box sx={{ p: 2 }}>\r\n        {tab === 0 && <TabsCriancas />}\r\n        {tab === 1 && <TabsLancamentos />}\r\n        {tab === 2 && <TabsCartoes />}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAdA;;;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,KAAK,OAAO,GAAG,iNAAc,CAAC;IAErC,qBACE,8OAAC,+LAAG;QAAC,IAAI;YAAE,WAAW;YAAS,SAAS;QAAU;;0BAGhD,8OAAC,2MAAM;gBAAC,UAAS;0BACf,cAAA,8OAAC,+MAAO;8BACN,cAAA,8OAAC,2NAAU;wBAAC,SAAQ;kCAAK;;;;;;;;;;;;;;;;0BAO7B,8OAAC,mMAAI;gBACH,OAAO;gBACP,UAAU,CAAC,GAAG,WAAa,OAAO;gBAClC,QAAQ;gBACR,IAAI;oBAAE,SAAS;gBAAO;;kCAEtB,8OAAC,+LAAG;wBAAC,OAAM;;;;;;kCACX,8OAAC,+LAAG;wBAAC,OAAM;;;;;;kCACX,8OAAC,+LAAG;wBAAC,OAAM;;;;;;;;;;;;0BAIb,8OAAC,+LAAG;gBAAC,IAAI;oBAAE,GAAG;gBAAE;;oBACb,QAAQ,mBAAK,8OAAC,sJAAY;;;;;oBAC1B,QAAQ,mBAAK,8OAAC,yJAAe;;;;;oBAC7B,QAAQ,mBAAK,8OAAC,qJAAW;;;;;;;;;;;;;;;;;AAIlC"}}]
}